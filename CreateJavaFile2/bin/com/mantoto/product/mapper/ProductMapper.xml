<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mantoto.product.dao.IProductDao">
  <sql id="column_List" >Descripation,Integral,IsForExpress,KeyWords,Stock,SaleAs,ProductId,Status,DetailJson,BusinessId,ETime,Price,FrontCoverId,ProductTypeId,ProductName,CTime,EditBy</sql>
  <sql id="sql_Where" >
<trim><if test="descripation != null and descripation!= '' "> 
and  Descripation = #{descripation}   
</if>
 <if test="integral>0">  
and Integral = #{integral} 
</if>

<if test="keyWords != null and keyWords!= '' "> 
and  KeyWords = #{keyWords}   
</if>
 <if test="stock>0">  
and Stock = #{stock} 
</if>
 <if test="saleAs>0">  
and SaleAs = #{saleAs} 
</if>
 <if test="productId>0">  
and ProductId = #{productId} 
</if>
<if test="status != null and status!= '' "> 
and  Status = #{status}   
</if>
<if test="detailJson != null and detailJson!= '' "> 
and  DetailJson = #{detailJson}   
</if>
 <if test="businessId>0">  
and BusinessId = #{businessId} 
</if>
<if test="eTime != null and eTime!= '' "> 
and  ETime = #{eTime}   
</if>
<if test="price != null and price!= '' "> 
and  Price = #{price}   
</if>
 <if test="frontCoverId>0">  
and FrontCoverId = #{frontCoverId} 
</if>
 <if test="productTypeId>0">  
and ProductTypeId = #{productTypeId} 
</if>
<if test="productName != null and productName!= '' "> 
and  ProductName = #{productName}   
</if>
<if test="cTime != null and cTime!= '' "> 
and  CTime = #{cTime}   
</if>
 <if test="editBy>0">  
and EditBy = #{editBy} 
</if>

</trim></sql>
<select id="selectCountProduct"   parameterType="com.mantoto.product.model.Product"  resultType="java.lang.Integer" >
select count(ProductId) from Msg_Product where 1=1<include refid="sql_Where" /></select>
<select id="selectByIdProduct"   parameterType="java.lang.String"  resultMap="product" >
select <include refid="column_List" /> from Product where ProductId =#{productId}</select>
<delete id="deleteProduct" parameterType="java.lang.String">
</delete>
<update id="updateProduct" parameterType="com.mantoto.product.model.Product" >
 UPDATE Msg_Product  <trim prefix="SET" suffixOverrides=",">   
<if test="descripation != null and descripation!= '' "> 
Descripation = #{descripation},
</if>
 <if test="integral>0">  
Integral = #{integral} ,
</if>
<if test="keyWords != null and keyWords!= '' "> 
KeyWords = #{keyWords},
</if>
 <if test="stock>0">  
Stock = #{stock} ,
</if>
 <if test="saleAs>0">  
SaleAs = #{saleAs} ,
</if>
<if test="status != null and status!= '' "> 
Status = #{status},
</if>
<if test="detailJson != null and detailJson!= '' "> 
DetailJson = #{detailJson},
</if>
<if test="eTime != null and eTime!= '' "> 
ETime = #{eTime},
</if>
<if test="price != null and price!= '' "> 
Price = #{price},
</if>
 <if test="frontCoverId>0">  
FrontCoverId = #{frontCoverId} ,
</if>
 <if test="productTypeId>0">  
ProductTypeId = #{productTypeId} ,
</if>
<if test="productName != null and productName!= '' "> 
ProductName = #{productName},
</if>
 <if test="editBy>0">  
EditBy = #{editBy} 
</if></trim> where ProductId=#{productId} </update>
<insert id="insertProduct" parameterType="com.mantoto.product.model.Product" > 
insert into Msg_Product (Descripation,Integral,IsForExpress,KeyWords,Stock,SaleAs,ProductId,Status,DetailJson,BusinessId,ETime,Price,FrontCoverId,ProductTypeId,ProductName,CTime,EditBy)values(#{descripation},#{integral},#{isForExpress},#{keyWords},#{stock},#{saleAs},#{productId},#{status},#{detailJson},#{businessId},#{eTime},#{price},#{frontCoverId},#{productTypeId},#{productName},#{cTime},#{editBy})</insert>  
<select id="selectProduct"   parameterType="com.mantoto.product.model.Product"  resultMap="product" >
select  top ${pageSize} <include refid="column_List" /> from Msg_Product  where ProductId not in (select top ${bigenRow} ProductId from Msg_Product  where 1=1 <include refid="sql_Where" />) and 1=1<include refid="sql_Where" /></select>
<resultMap type="com.mantoto.product.model.Product" id="product"> 
 <id property="productId" column="ProductId" /> 
<result property="descripation" column="Descripation" /> 
<result property="integral" column="Integral" /> 
<result property="isForExpress" column="IsForExpress" /> 
<result property="keyWords" column="KeyWords" /> 
<result property="stock" column="Stock" /> 
<result property="saleAs" column="SaleAs" /> 
<result property="status" column="Status" /> 
<result property="detailJson" column="DetailJson" /> 
<result property="businessId" column="BusinessId" /> 
<result property="eTime" column="ETime" /> 
<result property="price" column="Price" /> 
<result property="frontCoverId" column="FrontCoverId" /> 
<result property="productTypeId" column="ProductTypeId" /> 
<result property="productName" column="ProductName" /> 
<result property="cTime" column="CTime" /> 
<result property="editBy" column="EditBy" /> 
</resultMap> 
</mapper> 